{% extends 'base.html' %}

{% block content %}
{% if bookings %}
<table class="table table-striped align-middle">
    <thead>
        <tr>
            <th>Vehicle</th>
            <th>Service Type</th>
            <th>Booking Date</th>
            <th>Start Time</th>
            <th>Duration</th>
            <th>Total Price</th>
            <th>Status</th>
            <th>Expected End</th>
        </tr>
    </thead>
    <tbody>
        {% for booking in bookings %}
        <tr>
            <td>{{ booking.vehicle.vehicle_name }}</td>

            <td>{{ booking.get_service_type_display }}</td>

            <td>{{ booking.booking_date }}</td>

            <td>{{ booking.start_time }}</td>

            <td>
                {% if booking.service_type == 'hour' %}
                    {{ booking.hours }} hour(s)
                {% elif booking.service_type == 'day' %}
                    {{ booking.days }} day(s)
                {% endif %}
            </td>

            <td>Rs. {{ booking.total_price }}</td>

            <td>{{ booking.get_status_display }}</td>

            <td>
                {% if booking.expected_end_at %}
                    {{ booking.expected_end_at|date:"Y-m-d H:i" }}
                {% else %}
                    Not started
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p class="text-muted">No bookings found.</p>
{% endif %}

{% endblock %}