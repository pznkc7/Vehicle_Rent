{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vehicle Rental Service</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    {% comment %} <!-- Alertify -->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/alertify.min.css"/>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/alertifyjs@1.14.0/build/css/themes/bootstrap.min.css"/> {% endcomment %}
    
    <!-- Toaster notifier  .css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/74241ca4bb.js" crossorigin="anonymous"></script>

    <style>
        body {
            font-family: 'Inter', 'Segoe UI', Roboto, Arial, sans-serif;
            font-size: 15px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
    }
    
    main {
        flex: 1;
    }
    

        .navbar {
            font-size: 14.5px;
        }

        .navbar-brand {
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .navbar .nav-link {
            font-weight: 500;
            position: relative;
            transition: color 0.25s ease;
        }

        .navbar .nav-link:hover {
            color: #ffc107;
        }

        /* underline hover */
        .navbar .nav-link::after {
            content: "";
            position: absolute;
            width: 0;
            height: 2px;
            left: 50%;
            bottom: 0;
            background-color: #ffc107;
            transition: width 0.3s ease, left 0.3s ease;
        }

        .navbar .nav-link:hover::after {
            width: 100%;
            left: 0;
        }

        /* Dropdown hover (desktop only) */
        @media (min-width: 992px) {
            .navbar .dropdown:hover .dropdown-menu {
                display: block;
                margin-top: 0;
            }
        }

.footer {
    font-size: 14px;
}
/* Fixed bottom footer */
    body {
        padding-bottom: 100px; /* Adjust based on footer height */
    }
    

    
    /* For content that might be hidden under fixed footer */
    .content-container {
        min-height: calc(100vh - 200px); /* Adjust based on header+footer height */
    }

    

.footer-link {
    color: #adb5bd;
    text-decoration: none;
    transition: color 0.2s ease;
}

.footer-link:hover {
    color: #ffc107;
}

.footer-icon {
    color: #adb5bd;
    font-size: 18px;
    transition: color 0.2s ease, transform 0.2s ease;
}

.footer-icon:hover {
    color: #ffc107;
    transform: translateY(-2px);
}

/* From Uiverse.io by vinodjangid07 */ 
.inbox-btn {

  
  border: none;
  position: relative;
  background-color: #464646;
  cursor: pointer;
  transition: all 0.3s;
}
.inbox-btn svg path {
  fill: white;
}
.inbox-btn svg {
  height: 17px;
  transition: all 0.3s;
}
.msg-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background-color: rgb(255, 255, 255);
  border-radius: 50%;
  font-size: 0.7em;
  color: rgb(0, 0, 0);
  width: 10px;
  height: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.inbox-btn:hover {
  transform: scale(1.1);
}

    </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">

        <a class="navbar-brand" href="{% url 'home' %}">VehicleRent</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">

            <!-- LEFT LINKS -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                <li class="nav-item">
                    <a class="nav-link" href="{% url 'home' %}">Home</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="{% url 'vehicles' %}">Vehicles</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" href="#">About</a>
                </li>

                {% if user.is_authenticated and not user.is_staff %}
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'my_bookings' %}">My Bookings</a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button"
                       data-bs-toggle="dropdown">
                        Vehicles
                        
                        
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a class="dropdown-item" href="{% url 'owner_bookings' %}">
                                Incoming Bookings
                               
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="{% url 'my_vehicles' %}">My Vehicles</a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="{% url 'apply_vehicle' %}">
                                Add Vehicle
                            </a>
                        </li>
                    </ul>
                </li>
                {% endif %}

                {% if user.is_staff %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button"
                       data-bs-toggle="dropdown">
                        Admin Panel
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Dashboard</a></li>
                        <li><a class="dropdown-item" href="#">Vehicles</a></li>
                        <li><a class="dropdown-item" href="#">Bookings</a></li>
                        <li><a class="dropdown-item" href="#">Users</a></li>
                    </ul>
                </li>
                {% endif %}
            </ul>

            <!-- RIGHT LINKS -->
            <ul class="navbar-nav">
                {% if user.is_authenticated %}
                <li class="nav-item">
                    <span class="nav-link disabled text-light">
                        <i class="fa-solid fa-user"></i> {{ user.username }}
                    </span>
                </li>
                <li class="nav-item">
                    <a class="nav-link text-danger" href="{% url 'logout' %}">
                        Logout
                    </a>
                  </li>  

                
                <li class="nav-item">
                    <a class="nav-link position-relative"
                    href="{% url 'notification_inbox' %}">
                        <button class="inbox-btn" type="button">
                            <svg viewBox="0 0 512 512" height="16"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"></path>
                            </svg>
                             {% if unread_notifications > 0 %}
                                <span class="msg-count badge bg-danger rounded-pill">
                                    {{ unread_notifications }}
                                </span>
                            {% endif %} 
                        </button>
                    </a>

                </li>
                {% else %}
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'login' %}">Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'register' %}">Register</a>
                </li>
                {% endif %}
            </ul>

        </div>
    </div>
</nav>

<!-- PAGE CONTENT -->
{% block content %}
  
{% endblock %}


<!-- FOOTER -->
<footer class="footer mt-auto py-3 bg-dark text-white ">
    <div class="container py-4">
        <div class="row gy-3">

            <!-- Brand -->
            <div class="col-md-4">
                <h5 class="fw-semibold">VehicleRent</h5>
                <p class="text-muted small mb-0">
                    A smart vehicle rental platform enabling secure bookings,
                    owner confirmations, and real-time service tracking.
                </p>
            </div>

            <!-- Quick Links -->
            <div class="col-md-4">
                <h6 class="fw-semibold">Quick Links</h6>
                <ul class="list-unstyled small">
                    <li><a href="{% url 'home' %}" class="footer-link">Home</a></li>
                    <li><a href="{% url 'vehicles' %}" class="footer-link">Vehicles</a></li>
                    {% if user.is_authenticated %}
                        <li><a href="{% url 'my_bookings' %}" class="footer-link">My Bookings</a></li>
                    {% endif %}
                </ul>
            </div>

            <!-- Contact / Social -->
            <div class="col-md-4">
                <h6 class="fw-semibold">Connect</h6>
                <div class="d-flex gap-3">
                    <a href="#" class="footer-icon"><i class="fab fa-github"></i></a>
                    <a href="#" class="footer-icon"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="footer-icon"><i class="fas fa-envelope"></i></a>
                </div>
            </div>

        </div>

        <hr class="border-secondary my-3">

        <div class="text-center small text-muted">
            Â© {{ now|date:"Y" }} VehicleRent. All rights reserved.
        </div>
    </div>
</footer>



 
<script>
    // Initialization for ES Users
    import { Input, initMDB } from "mdb-ui-kit";
    
    initMDB({ Input });
</script>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>





</body>
</html>
